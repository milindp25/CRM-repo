# =============================================================================
# Tenant API (NestJS) - Environment Variables Template
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# NEVER commit .env to git! Only .env.example should be committed.
#
# Generate secrets with:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
NODE_ENV=development
API_PORT=4000
API_VERSION=1

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
# Supabase: Project Settings > Database > Connection string
# AWS RDS: Use your RDS endpoint
# Local: postgresql://user:password@localhost:5432/hrplatform
DATABASE_URL="postgresql://postgres:[PASSWORD]@[HOST]:5432/[DATABASE]"
DIRECT_URL="postgresql://postgres:[PASSWORD]@[HOST]:5432/[DATABASE]"

# -----------------------------------------------------------------------------
# Authentication (JWT)
# -----------------------------------------------------------------------------
# IMPORTANT: Must match Admin API's JWT_SECRET (shared tokens)
JWT_SECRET="<generate-64-char-hex-secret>"
JWT_EXPIRES_IN="7d"
JWT_REFRESH_SECRET="<generate-64-char-hex-secret>"
JWT_REFRESH_EXPIRES_IN="30d"

# -----------------------------------------------------------------------------
# Encryption (AES-256-CBC)
# -----------------------------------------------------------------------------
# Used to encrypt PII: SSN, Aadhaar, PAN, bank details, salary data
# Generate: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# WARNING: Losing this key = losing access to ALL encrypted employee data
ENCRYPTION_KEY="<generate-128-char-hex-key>"

# -----------------------------------------------------------------------------
# CORS — Allowed frontend origins (comma-separated)
# -----------------------------------------------------------------------------
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001"

# -----------------------------------------------------------------------------
# Google OAuth (SSO) — Optional
# -----------------------------------------------------------------------------
# Get from: https://console.cloud.google.com/apis/credentials
# GOOGLE_CLIENT_ID=""
# GOOGLE_CLIENT_SECRET=""
# GOOGLE_CALLBACK_URL="http://localhost:4000/api/v1/auth/google/callback"

# -----------------------------------------------------------------------------
# Email (SMTP) — Optional
# -----------------------------------------------------------------------------
# If not configured, notifications will be in-app only
# Gmail: smtp.gmail.com:587 (use App Password, not your real password)
# SendGrid: smtp.sendgrid.net:587
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT=587
# SMTP_USER=""
# SMTP_PASS=""
# SMTP_FROM="HRPlatform <noreply@hrplatform.com>"

# Frontend URL (for email links — invitation, password reset)
FRONTEND_URL="http://localhost:3000"

# -----------------------------------------------------------------------------
# Logging & Rate Limiting
# -----------------------------------------------------------------------------
LOG_LEVEL="info"
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100
